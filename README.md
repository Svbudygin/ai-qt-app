# Техническое задание для приложения на Qt C++

## Общее описание
Разработать приложение на Qt C++, предоставляющее возможность входа/регистрации пользователей, создания и редактирования постов с использованием Yandex GPT, а также просмотра истории всех постов. Приложение должно обеспечивать безопасное хранение данных пользователей с помощью хеширования, взаимодействие с внешним API Yandex GPT для генерации текста и использование SQLite для хранения постов и пользовательских данных.

## Раздел 1: Вход/Регистрация
### 1.1 Вход в систему:
- При запуске приложения производится проверка наличия данных о пользователе в базе данных SQLite.
- Если данные о пользователе обнаружены, приложение отправляет запрос на сервер для проверки корректности информации о пользователе (логин, хэш пароля и токен).
- Если данные о пользователе не обнаружены в базе данных или они некорректные, открывается экран входа в систему.
- Пользователь вводит свои учетные данные (логин и пароль) для входа в систему.
- После успешного входа пользователю предоставляются его данные и токен для последующего использования.

### 1.2 Регистрация нового аккаунта:
- Если данные о пользователе отсутствуют или некорректные, открывается экран регистрации нового аккаунта.
- Пользователь заполняет форму регистрации, включающую следующие поля:
    - Почта (email)
    - Пароль
    - Имя
    - Фамилия
    - ID Telegram канала (опционально)
- После заполнения формы пользователь отправляет запрос на сервер для регистрации нового аккаунта.
- Сервер проверяет уникальность почты и производит хеширование пароля перед сохранением в базу данных.
- После успешной регистрации пользователю предоставляются его данные и токен для последующего использования.

## Раздел 2: Главная страница (Редактор постов с использованием Yandex GPT)
### 2.1 Редактирование постов:
- После успешного входа пользователю открывается главная страница, где расположен редактор для создания и редактирования постов.
- Редактор предоставляет пользователю поле для ввода описания поста.
- После ввода описания поста пользователь может нажать кнопку "Сгенерировать пост", чтобы Yandex GPT создал текст поста на основе введенного описания. После генерации текста он заменяет введенное описание.
- Пользователь может редактировать сгенерированный текст поста в том же окне.
- При необходимости пользователь может нажать кнопку "Назад", чтобы заново задать описание поста и повторить процесс генерации.
- Пользователь также имеет возможность нажать кнопку "Сгенерировать заново", чтобы повторно создать текст поста с использованием Yandex GPT.
- Перед отправкой поста пользователь может просмотреть его, нажав на кнопку "Просмотреть пост". Это открывает окно предварительного просмотра, где пользователь может увидеть, как будет выглядеть пост с текстом и (при наличии) изображением.

### 2.2 Создание поста с изображением:
- После редактирования текста поста пользователь может нажать кнопку "Далее", чтобы перейти к созданию поста с изображением.
- На следующем экране пользователю предоставляется возможность выбрать способ создания поста с изображением:
    - Возможность ввести описание изображения в поле текста.
    - Возможность добавить собственное изображение, щелкнув на кнопку "Добавить своё фото".
- После ввода описания и, при необходимости, добавления своего изображения пользователь может нажать кнопку "Отправить", чтобы создать пост с текстом и изображением.

## Раздел 3: История всех постов:
- Пользователь должен иметь доступ к истории всех созданных им постов.
- Посты должны быть сохранены в базе данных SQLite с меткой времени создания.
- Пользователь должен иметь возможность просматривать и редактировать ранее созданные посты.

## Раздел 4: SQLite База данных
### 4.1 Структура базы данных:
- В приложении используется SQLite для хранения пользовательских данных и системных переменных.
- База данных содержит две таблицы: "Users" (пользователи) и "SystemVariables" (системные переменные).

### 4.2 Таблица "Users" (пользователи):
- Эта таблица содержит информацию о зарегистрированных пользователях.
- Структура таблицы:
    - id (INTEGER, PRIMARY KEY): уникальный идентификатор пользователя.
    - login (TEXT, UNIQUE): логин пользователя.
    - password_hash (TEXT): хеш пароля пользователя.
    - email (TEXT, UNIQUE): адрес электронной почты пользователя.
    - telegram_chat_id (TEXT, UNIQUE): ID чата в Telegram пользователя (опционально).

### 4.3 Таблица "SystemVariables" (системные переменные):
- Эта таблица содержит системные переменные, такие как токен для взаимодействия с API и другие настройки приложения.
- Структура таблицы:
    - id (INTEGER, PRIMARY KEY): уникальный идентификатор записи.
    - name (TEXT, UNIQUE): название переменной.
    - value (TEXT): значение переменной.

### 4.4 Использование системных переменных:
- Токен для взаимодействия с API (например, Yandex GPT) хранится в таблице "SystemVariables" под определенным именем (например, "api_token").
- Для обновления или получения токена используются SQL запросы к таблице "SystemVariables".

### 4.5 Безопасность данных:
- Для обеспечения безопасности пользовательских паролей они хешируются перед сохранением в базе данных.
- Для защиты от возможных угроз безопасности данные пользователя (логин, пароль, почта) должны быть хранены в зашифрованном виде.
- Используйте параметризованные SQL запросы для предотвращения атак внедрения SQL (SQL injection).

## Стек технологий:
- Qt C++ для разработки графического интерфейса и логики приложения.
- Библиотеки хеширования для безопасного хранения паролей пользователей.
- HTTP requests для взаимодействия с API Yandex GPT для генерации текста.
- База данных SQLite для хранения информации о пользователях и постах.

## По окончании разработки:
- Обеспечьте тестирование приложения на предмет соответствия функциональным требованиям и безопасности.
- Предусмотрите возможность обработки ошибок и исключительных ситуаций для повышения надежности приложения.
- Проверьте соответствие требованиям защиты данных при сборе, хранении и обработке пользовательской информации.
